<!DOCTYPE html><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type" /><meta content="width=device-width, initial-scale=1" name="viewport" /><!--replace-start-0--><!--replace-start-5--><!--replace-start-8--><title>Arrays in Bash - My Zettelkasten</title><!--replace-end-8--><!--replace-end-5--><!--replace-end-0--><link href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.7/dist/semantic.min.css" rel="stylesheet" /><link href="https://fonts.googleapis.com/css?family=Merriweather|Libre+Franklin|Roboto+Mono&amp;display=swap" rel="stylesheet" /><!--replace-start-1--><!--replace-start-4--><!--replace-start-7--><link href="https://raw.githubusercontent.com/srid/neuron/master/assets/neuron.svg" rel="icon" /><meta content="We define an array as follows:" name="description" /><meta content="Arrays in Bash" property="og:title" /><meta content="My Zettelkasten" property="og:site_name" /><meta content="article" property="og:type" /><meta content="Lists_and_arrays_in_Bash" property="neuron:zettel-id" /><meta content="Lists_and_arrays_in_Bash" property="neuron:zettel-slug" /><meta content="data-structures" property="neuron:zettel-tag" /><meta content="shell" property="neuron:zettel-tag" /><script type="application/ld+json">[]</script><style type="text/css">body{background-color:#eeeeee !important;font-family:"Libre Franklin", serif !important}body .ui.container{font-family:"Libre Franklin", serif !important}body h1, h2, h3, h4, h5, h6, .ui.header, .headerFont{font-family:"Merriweather", sans-serif !important}body code, pre, tt, .monoFont{font-family:"Roboto Mono","SFMono-Regular","Menlo","Monaco","Consolas","Liberation Mono","Courier New", monospace !important}body div.z-index p.info{color:#808080}body div.z-index ul{list-style-type:square;padding-left:1.5em}body div.z-index .uplinks{margin-left:0.29999em}body .zettel-content h1#title-h1{background-color:rgba(33,133,208,0.1)}body nav.bottomPane{background-color:rgba(33,133,208,2.0e-2)}body div#footnotes{border-top-color:#2185d0}body p{line-height:150%}body img{max-width:100%}body .deemphasized{font-size:0.94999em}body .deemphasized:hover{opacity:1}body .deemphasized:not(:hover){opacity:0.69999}body .deemphasized:not(:hover) a{color:#808080 !important}body div.container.universe{padding-top:1em}body div.zettel-view ul{padding-left:1.5em;list-style-type:square}body div.zettel-view .pandoc .highlight{background-color:#ffff00}body div.zettel-view .pandoc .ui.disabled.fitted.checkbox{margin-right:0.29999em;vertical-align:middle}body div.zettel-view .zettel-content .metadata{margin-top:1em}body div.zettel-view .zettel-content .metadata div.date{text-align:center;color:#808080}body div.zettel-view .zettel-content h1{padding-top:0.2em;padding-bottom:0.2em;text-align:center}body div.zettel-view .zettel-content h2{border-bottom:solid 1px #4682b4;margin-bottom:0.5em}body div.zettel-view .zettel-content h3{margin:0px 0px 0.4em 0px}body div.zettel-view .zettel-content h4{opacity:0.8}body div.zettel-view .zettel-content div#footnotes{margin-top:4em;border-top-style:groove;border-top-width:2px;font-size:0.9em}body div.zettel-view .zettel-content div#footnotes ol > li > p:only-of-type{display:inline;margin-right:0.5em}body div.zettel-view .zettel-content aside.footnote-inline{width:30%;padding-left:15px;margin-left:15px;float:right;background-color:#d3d3d3}body div.zettel-view .zettel-content .overflows{overflow:auto}body div.zettel-view .zettel-content code{margin:auto auto auto auto;font-size:100%}body div.zettel-view .zettel-content p code, li code, ol code{padding:0.2em 0.2em 0.2em 0.2em;background-color:#f5f2f0}body div.zettel-view .zettel-content pre{overflow:auto}body div.zettel-view .zettel-content dl dt{font-weight:bold}body div.zettel-view .zettel-content blockquote{background-color:#f9f9f9;border-left:solid 10px #cccccc;margin:1.5em 0px 1.5em 0px;padding:0.5em 10px 0.5em 10px}body div.zettel-view .zettel-content.raw{background-color:#dddddd}body .ui.label.zettel-tag{color:#000000}body .ui.label.zettel-tag a{color:#000000}body nav.bottomPane ul.backlinks > li{padding-bottom:0.4em;list-style-type:disc}body nav.bottomPane ul.context-list > li{list-style-type:lower-roman}body .footer-version img{-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%);filter:grayscale(100%)}body .footer-version img:hover{-webkit-filter:grayscale(0%);-moz-filter:grayscale(0%);-ms-filter:grayscale(0%);-o-filter:grayscale(0%);filter:grayscale(0%)}body .footer-version, .footer-version a, .footer-version a:visited{color:#808080}body .footer-version a{font-weight:bold}body .footer-version{margin-top:1em !important;font-size:0.69999em}@media only screen and (max-width: 768px){body div#zettel-container{margin-left:0.4em !important;margin-right:0.4em !important}}body span.zettel-link-container span.zettel-link a{color:#2185d0;font-weight:bold;text-decoration:none}body span.zettel-link-container span.zettel-link a:hover{background-color:rgba(33,133,208,0.1)}body span.zettel-link-container span.extra{color:auto}body span.zettel-link-container.errors{border:solid 1px #ff0000}body span.zettel-link-container.errors span.zettel-link a:hover{text-decoration:none !important;cursor:not-allowed}body [data-tooltip]:after{font-size:0.69999em}body div.tag-tree div.node{font-weight:bold}body div.tag-tree div.node a.inactive{color:#555555}body .tree.flipped{-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-ms-transform:rotate(180deg);-o-transform:rotate(180deg);transform:rotate(180deg)}body .tree{overflow:auto}body .tree ul.root{padding-top:0px;margin-top:0px}body .tree ul{position:relative;padding:1em 0px 0px 0px;white-space:nowrap;margin:0px auto 0px auto;text-align:center}body .tree ul::after{content:"";display:table;clear:both}body .tree ul:last-child{padding-bottom:0.1em}body .tree li{display:inline-block;vertical-align:top;text-align:center;list-style-type:none;position:relative;padding:1em 0.5em 0em 0.5em}body .tree li::before{content:"";position:absolute;top:0px;right:50%;border-top:solid 2px #cccccc;width:50%;height:1.19999em}body .tree li::after{content:"";position:absolute;top:0px;right:50%;border-top:solid 2px #cccccc;width:50%;height:1.19999em}body .tree li::after{right:auto;left:50%;border-left:solid 2px #cccccc}body .tree li:only-child{padding-top:0em}body .tree li:only-child::after{display:none}body .tree li:only-child::before{display:none}body .tree li:first-child::before{border-style:none;border-width:0px}body .tree li:first-child::after{border-radius:5px 0px 0px 0px}body .tree li:last-child::after{border-style:none;border-width:0px}body .tree li:last-child::before{border-right:solid 2px #cccccc;border-radius:0px 5px 0px 0px}body .tree ul ul::before{content:"";position:absolute;top:0px;left:50%;border-left:solid 2px #cccccc;width:0px;height:1.19999em}body .tree li div.forest-link{border:solid 2px #cccccc;padding:0.2em 0.29999em 0.2em 0.29999em;text-decoration:none;display:inline-block;border-radius:5px 5px 5px 5px;color:#333333;position:relative;top:2px}body .tree.flipped li div.forest-link{-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-ms-transform:rotate(180deg);-o-transform:rotate(180deg);transform:rotate(180deg)}</style><script
  async=""
  id="MathJax-script"
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
></script>
<link
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism.min.css"
  rel="stylesheet"
/><link rel="preconnect" href="https://fonts.googleapis.com" /><link
  rel="preconnect"
  href="https://fonts.gstatic.com"
  crossorigin
/><link
  href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=IBM+Plex+Sans+Condensed:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=IBM+Plex+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=IBM+Plex+Serif:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
  rel="stylesheet"
/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-core.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
<style>
  body .ui.container,
  body ul {
    font-family: "IBM Plex Sans" !important;
  }
  body blockquote {
    border-left-width: 3px !important;
  }
  .headerFont,
  .ui.header,
  body h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: "IBM Plex Sans Condensed" !important;
  }
  body p {
    line-height: 1.4;
  }
  .monoFont,
  body code,
  pre,
  tt {
    font-family: "IBM Plex Mono" !important;
    font-size: 12px !important;
    line-height: 1.4 !important;
  }
</style>
<!--replace-end-7--><!--replace-end-4--><!--replace-end-1--></head><body><div class="ui fluid container universe"><!--replace-start-2--><!--replace-start-3--><!--replace-start-6--><div class="ui text container" id="zettel-container" style="position: relative"><div class="zettel-view"><article class="ui raised attached segment zettel-content"><div class="pandoc"><h1 id="title-h1">Arrays in Bash</h1><p>We define an array as follows:</p><pre><code class="bash language-bash">words=(here are some words)</code></pre><p>We can also explicitly define an array using <code>declare</code> :</p><pre><code class="bash language-bash">declare -a words=(&quot;element1&quot; &quot;element2&quot; &quot;element3&quot;)</code></pre><h2 id="index-notation">Index notation</h2><p>We access specific array elements by their index using the same braces style we use with variables:</p><pre><code class="bash language-bash">echo &quot;${words[2]}&quot;

# element3</code></pre><h2 id="iterating-through-arrays">Iterating through arrays</h2><pre><code class="bash language-bash">for i in &quot;${words[@]}&quot;
do
   echo &quot;$i&quot;
   # or do whatever with individual element of the array
done
# element1 element2 element3</code></pre><p>Note that <code>@</code> here is a special symbol standing for all the members of the <code>words</code> array.</p><h2 id="sorting-arrays">Sorting arrays</h2><h3 id="sorting-an-integer-array-highests-to-lowest">Sorting an integer array highests to lowest</h3><pre><code class="bash language-bash">sorted_array=($(echo &quot;${array[@]}&quot; | tr &quot; &quot; &quot;\n&quot; | sort -nr))</code></pre><p>Where <code>array</code> is the name of the original array. The sorted array will be stored in the <code>sorted_array</code> array.</p><p>The <code>sort</code> command sorts the input in reverse numerical order (<code>-n</code> for numerical sort and <code>-r</code> for reverse sort). The <code>tr</code> command is used to convert the spaces in the array to newline characters so that each element is sorted on a separate line.</p><h2 id="pushing-appending-to-an-array">Pushing, appending to an array</h2><p>We use the <code>+=</code> shorthand to add elements to a preexisting array:</p><pre><code class="bash language-bash">preExistingArray=(1 2 3)
preExistingArray+=(4)
echo preExistingArray
# 1 2 3 4
</code></pre><blockquote><p>Note that we have to put the item we want to addend within array brackets</p></blockquote><h2 id="check-if-array-empty">Check if array empty</h2><pre><code class="sh language-sh">an_array=()

if [ -z &quot;${another_array[@]}&quot; ]; then
    echo &quot;Array is empty&quot;
else
    echo &quot;Array is not empty&quot;
fi</code></pre><p>Here we pass all the elements of the array to a <span class="zettel-link-container cf"><span class="zettel-link" title="Zettel: Test values in Bash"><a href="Test_values_in_Bash">test</a></span></span> condition which tests for an empty string.</p><blockquote><p>NB: This will not immediately work in the context of a function. See below.</p></blockquote><h2 id="weirdness-with-functions">Weirdness with functions</h2><p>When you pass an array as an argument to a <span class="zettel-link-container cf"><span class="zettel-link" title="Zettel: Functions in Bash"><a href="Functions_in_Bash">function</a></span></span> it will not immediately be understood to be an array.</p><p>When we use <code>$1</code> to individuate the first function argument this is read as string. So if you parsed an array argument as <code>$1</code>, any logic you have in the function will work on the assumption that the argument is a string, not an array.</p><p>To get round this we have to effectively <em>redeclare</em> the argument as an array before running any array logic. We do this through a <strong>nameref</strong> (a reference to a variable). The nameref resolves to the value of the variable it references. This allows you to indirectly manipulate the value of the original variable through the nameref.</p><p>A nameref is created with the <code>-n</code> flag. The following function uses this method to check if an array is empty:</p><pre><code class="sh language-sh">function array_empty() {
    declare -n arr=$1
    if [ ${#arr[@]} -gt 0 ]; then
        echo &quot;array is not empty&quot;
    else
        echo &quot;array is empty&quot;
    fi
}

my_array=()
array_empty &quot;my_array&quot;</code></pre><p>You’ll notice when we invoke the function we pass the array as a string, this facilitates the nameref operation in the function.</p><h2 id="associational-arrays--maps">Associational arrays / maps</h2><p>With Bash 4 we gained an additional array-like data structure that is key-value based and similar to maps in other languages.</p><pre><code class="bash language-bash">declare -A rock=([&quot;win&quot;]=&quot;scissors&quot; [&quot;lose&quot;]=&quot;paper&quot;)</code></pre><p>We would then individuate a value with <code>&quot;${rock[win]}&quot;</code></p><h2 id="lists-as-implicit-string-arrays">Lists as implicit string arrays</h2><p>When we use the term <strong>list</strong> in bash, we are not actually referring to a specific type of data structure. Instead a <strong>list variable</strong> is really just a normal variable wrapped in quote marks that has strings separated by spaces. Despite the fact that this is not an actual iterative data structure, we are still able to loop through variables of this type.</p><pre><code class="bash language-bash">A_STR_LIST=&quot;cat dog hamster&quot;
AN_INT_LIST=&quot;1 2 3&quot;</code></pre><p>To iterate through a list variable, we can use a for loop:</p><pre><code class="bash language-bash">for ele in $A_STR_LIST; do
    echo $ele
done</code></pre><p>We are leveraging this aspect of Bash when we <a href="Strings_in_Bash.md#loop-through-each-character-in-a-string">loop through each character in a string</a>.</p></div></article><nav class="ui attached segment deemphasized backlinksPane" id="neuron-backlinks-pane"><h3 class="ui header">Backlinks</h3><ul class="backlinks"><li><span class="zettel-link-container cf"><span class="zettel-link"><a href="Test_values_in_Bash">Test values in Bash</a></span></span><ul class="context-list" style="zoom: 85%;"><li class="item"><div class="pandoc"><p>Note: this syntax can also be used to test if a given element exists in an <span class="zettel-link-container cf"><span class="zettel-link" title="Zettel: Arrays in Bash"><a href="Lists_and_arrays_in_Bash">array</a></span></span>.</p></div></li></ul></li></ul></nav><nav class="ui attached segment deemphasized bottomPane" id="neuron-tags-pane"><div><span class="ui basic label zettel-tag" title="Tag">data-structures</span><span class="ui basic label zettel-tag" title="Tag">shell</span></div></nav><nav class="ui bottom attached icon compact inverted menu blue" id="neuron-nav-bar"><!--replace-start-9--><!--replace-end-9--><a class="right item" href="impulse" title="Open Impulse"><i class="wave square icon"></i></a></nav></div></div><!--replace-end-6--><!--replace-end-3--><!--replace-end-2--><div class="ui center aligned container footer-version"><div class="ui tiny image"><a href="https://neuron.zettel.page"><img alt="logo" src="https://raw.githubusercontent.com/srid/neuron/master/assets/neuron.svg" title="Generated by Neuron 1.9.35.3" /></a></div></div></div></body></html>