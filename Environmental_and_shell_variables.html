<!DOCTYPE html><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type" /><meta content="width=device-width, initial-scale=1" name="viewport" /><!--replace-start-0--><!--replace-start-5--><!--replace-start-8--><title>Environmental and shell variables - My Zettelkasten</title><!--replace-end-8--><!--replace-end-5--><!--replace-end-0--><link href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.7/dist/semantic.min.css" rel="stylesheet" /><link href="https://fonts.googleapis.com/css?family=Merriweather|Libre+Franklin|Roboto+Mono&amp;display=swap" rel="stylesheet" /><!--replace-start-1--><!--replace-start-4--><!--replace-start-7--><link href="https://raw.githubusercontent.com/srid/neuron/master/assets/neuron.svg" rel="icon" /><meta content="To understand the difference between environmental and shell variables know that:" name="description" /><meta content="Environmental and shell variables" property="og:title" /><meta content="My Zettelkasten" property="og:site_name" /><meta content="article" property="og:type" /><meta content="Environmental_and_shell_variables" property="neuron:zettel-id" /><meta content="Environmental_and_shell_variables" property="neuron:zettel-slug" /><meta content="shell" property="neuron:zettel-tag" /><script type="application/ld+json">[]</script><style type="text/css">body{background-color:#eeeeee !important;font-family:"Libre Franklin", serif !important}body .ui.container{font-family:"Libre Franklin", serif !important}body h1, h2, h3, h4, h5, h6, .ui.header, .headerFont{font-family:"Merriweather", sans-serif !important}body code, pre, tt, .monoFont{font-family:"Roboto Mono","SFMono-Regular","Menlo","Monaco","Consolas","Liberation Mono","Courier New", monospace !important}body div.z-index p.info{color:#808080}body div.z-index ul{list-style-type:square;padding-left:1.5em}body div.z-index .uplinks{margin-left:0.29999em}body .zettel-content h1#title-h1{background-color:rgba(33,133,208,0.1)}body nav.bottomPane{background-color:rgba(33,133,208,2.0e-2)}body div#footnotes{border-top-color:#2185d0}body p{line-height:150%}body img{max-width:100%}body .deemphasized{font-size:0.94999em}body .deemphasized:hover{opacity:1}body .deemphasized:not(:hover){opacity:0.69999}body .deemphasized:not(:hover) a{color:#808080 !important}body div.container.universe{padding-top:1em}body div.zettel-view ul{padding-left:1.5em;list-style-type:square}body div.zettel-view .pandoc .highlight{background-color:#ffff00}body div.zettel-view .pandoc .ui.disabled.fitted.checkbox{margin-right:0.29999em;vertical-align:middle}body div.zettel-view .zettel-content .metadata{margin-top:1em}body div.zettel-view .zettel-content .metadata div.date{text-align:center;color:#808080}body div.zettel-view .zettel-content h1{padding-top:0.2em;padding-bottom:0.2em;text-align:center}body div.zettel-view .zettel-content h2{border-bottom:solid 1px #4682b4;margin-bottom:0.5em}body div.zettel-view .zettel-content h3{margin:0px 0px 0.4em 0px}body div.zettel-view .zettel-content h4{opacity:0.8}body div.zettel-view .zettel-content div#footnotes{margin-top:4em;border-top-style:groove;border-top-width:2px;font-size:0.9em}body div.zettel-view .zettel-content div#footnotes ol > li > p:only-of-type{display:inline;margin-right:0.5em}body div.zettel-view .zettel-content aside.footnote-inline{width:30%;padding-left:15px;margin-left:15px;float:right;background-color:#d3d3d3}body div.zettel-view .zettel-content .overflows{overflow:auto}body div.zettel-view .zettel-content code{margin:auto auto auto auto;font-size:100%}body div.zettel-view .zettel-content p code, li code, ol code{padding:0.2em 0.2em 0.2em 0.2em;background-color:#f5f2f0}body div.zettel-view .zettel-content pre{overflow:auto}body div.zettel-view .zettel-content dl dt{font-weight:bold}body div.zettel-view .zettel-content blockquote{background-color:#f9f9f9;border-left:solid 10px #cccccc;margin:1.5em 0px 1.5em 0px;padding:0.5em 10px 0.5em 10px}body div.zettel-view .zettel-content.raw{background-color:#dddddd}body .ui.label.zettel-tag{color:#000000}body .ui.label.zettel-tag a{color:#000000}body nav.bottomPane ul.backlinks > li{padding-bottom:0.4em;list-style-type:disc}body nav.bottomPane ul.context-list > li{list-style-type:lower-roman}body .footer-version img{-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%);filter:grayscale(100%)}body .footer-version img:hover{-webkit-filter:grayscale(0%);-moz-filter:grayscale(0%);-ms-filter:grayscale(0%);-o-filter:grayscale(0%);filter:grayscale(0%)}body .footer-version, .footer-version a, .footer-version a:visited{color:#808080}body .footer-version a{font-weight:bold}body .footer-version{margin-top:1em !important;font-size:0.69999em}@media only screen and (max-width: 768px){body div#zettel-container{margin-left:0.4em !important;margin-right:0.4em !important}}body span.zettel-link-container span.zettel-link a{color:#2185d0;font-weight:bold;text-decoration:none}body span.zettel-link-container span.zettel-link a:hover{background-color:rgba(33,133,208,0.1)}body span.zettel-link-container span.extra{color:auto}body span.zettel-link-container.errors{border:solid 1px #ff0000}body span.zettel-link-container.errors span.zettel-link a:hover{text-decoration:none !important;cursor:not-allowed}body [data-tooltip]:after{font-size:0.69999em}body div.tag-tree div.node{font-weight:bold}body div.tag-tree div.node a.inactive{color:#555555}body .tree.flipped{-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-ms-transform:rotate(180deg);-o-transform:rotate(180deg);transform:rotate(180deg)}body .tree{overflow:auto}body .tree ul.root{padding-top:0px;margin-top:0px}body .tree ul{position:relative;padding:1em 0px 0px 0px;white-space:nowrap;margin:0px auto 0px auto;text-align:center}body .tree ul::after{content:"";display:table;clear:both}body .tree ul:last-child{padding-bottom:0.1em}body .tree li{display:inline-block;vertical-align:top;text-align:center;list-style-type:none;position:relative;padding:1em 0.5em 0em 0.5em}body .tree li::before{content:"";position:absolute;top:0px;right:50%;border-top:solid 2px #cccccc;width:50%;height:1.19999em}body .tree li::after{content:"";position:absolute;top:0px;right:50%;border-top:solid 2px #cccccc;width:50%;height:1.19999em}body .tree li::after{right:auto;left:50%;border-left:solid 2px #cccccc}body .tree li:only-child{padding-top:0em}body .tree li:only-child::after{display:none}body .tree li:only-child::before{display:none}body .tree li:first-child::before{border-style:none;border-width:0px}body .tree li:first-child::after{border-radius:5px 0px 0px 0px}body .tree li:last-child::after{border-style:none;border-width:0px}body .tree li:last-child::before{border-right:solid 2px #cccccc;border-radius:0px 5px 0px 0px}body .tree ul ul::before{content:"";position:absolute;top:0px;left:50%;border-left:solid 2px #cccccc;width:0px;height:1.19999em}body .tree li div.forest-link{border:solid 2px #cccccc;padding:0.2em 0.29999em 0.2em 0.29999em;text-decoration:none;display:inline-block;border-radius:5px 5px 5px 5px;color:#333333;position:relative;top:2px}body .tree.flipped li div.forest-link{-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-ms-transform:rotate(180deg);-o-transform:rotate(180deg);transform:rotate(180deg)}</style><script
  async=""
  id="MathJax-script"
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
></script>
<link
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism.min.css"
  rel="stylesheet"
/><link rel="preconnect" href="https://fonts.googleapis.com" /><link
  rel="preconnect"
  href="https://fonts.gstatic.com"
  crossorigin
/><link
  href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=IBM+Plex+Sans+Condensed:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=IBM+Plex+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=IBM+Plex+Serif:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
  rel="stylesheet"
/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-core.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
<style>
  body .ui.container,
  body ul {
    font-family: "IBM Plex Sans" !important;
  }
  body h2,
  body div.zettel-view .zettel-content h2 {
    border-bottom: none !important;
  }

  body blockquote {
    border-left-width: 3px !important;
  }
  .headerFont,
  .ui.header,
  body h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: "IBM Plex Sans Condensed" !important;
  }
  body p {
    line-height: 1.4;
  }
  .monoFont,
  body code,
  pre,
  tt {
    font-family: "IBM Plex Mono" !important;
    font-size: 12px !important;
    line-height: 1.4 !important;
  }
</style>
<!--replace-end-7--><!--replace-end-4--><!--replace-end-1--></head><body><div class="ui fluid container universe"><!--replace-start-2--><!--replace-start-3--><!--replace-start-6--><div class="ui text container" id="zettel-container" style="position: relative"><div class="zettel-view"><article class="ui raised attached segment zettel-content"><div class="pandoc"><h1 id="title-h1">Environmental and shell variables</h1><h2 id="important">Important!</h2><p>To understand the difference between environmental and shell variables know that:</p><ul><li>You can spawn child shells from the parent shell that is initiated when you first open the terminal. To do this just run <code>bash</code> or <code>zsh</code> .</li><li>This is a self-contained new instance of the shell. This means:<ul><li>It <strong>will have</strong> access to environmental variables (since they belong to the parent / are global)</li><li>It <strong>will not have</strong> access to any shell variables that are defined in the parent.</li></ul></li><li><strong>How do you get back to the ‘upper’ parent shell?</strong> Type <code>exit</code> .</li><li>Note that:<ul><li>Custom (user-created) shell variables <strong>do not</strong> pass down to spawned shell instances, nor do they pass up to the parent</li><li>Custom (user-created) environment variables do pass down to spawned shell instances but do not pass up to the parent. They are lost on <code>exit</code> .</li></ul></li></ul><p>Q. What methods are there for keeping track of, preserving, and jumping between spawned instances? Is this even possible or do they die on <code>exit</code> .</p><h2 id="questions-research">Questions, research</h2><ol><li>If you create a variable manually I guess it won’t make it to any config file. How would you create a persistent var that is added to the <code>.bashrc</code> and thus which would be initialised on every session? Is this where the path comes in?</li><li>What methods are there for keeping track of, preserving, and jumping between spawned instances? Is this even possible or do they die on <code>exit</code> ?</li></ol><h2 id="what-is-the-shell-environment-and-what-are-environment-variables">What is the shell environment and what are environment variables?</h2><ul><li><p>Every time that you interact with the shell you do so within an <strong>environment</strong>. This is the context within which you are working and it determines your access to resources and the behaviour that is permitted.</p></li><li><p>The environment is an area that the shell builds every time that it starts a session. It contains variables that define system properties.</p></li><li><p>Every time a <span class="zettel-link-container errors"><span class="zettel-link" title="Wiki-link does not refer to any existing zettel"><a>Shell-sessions-e6dd743dec1d4fe3b1ee672c8f9731f6</a></span></span> spawns, a process takes place to gather and compile information that should be available to the shell process and its child processes. It obtains the data for these settings from a variety of different files and settings on the system.</p></li><li><p>The environment is represented by strings comprising key-value pairs. For example:</p><pre><code class="bash language-bash">KEY=value1:value2
KEY=&quot;value with spaces&quot;:&quot;another value with spaces&quot;</code></pre><p>As the above shows, a key can have multiple related values. Each one is demarcated with a <code>:</code> . If the value is longer than a single word, quotation marks are used.</p></li><li><p>The keys are <strong>variables</strong>. They come in two types: <strong>environmental variables</strong> and <strong>shell variables:</strong></p><ul><li>Environmental variables are much more permanent and pertain to things like the user and his path (the overall session)</li><li>Shell variables are more changeable for instance the current working directory (the current program instance)</li></ul></li></ul><p>Variables can be created via config files that run on the initialisation of the session or manually created via the command line in the current session</p><h2 id="what-are-shell-variables-useful-for">What are shell variables useful for?</h2><p>Some deployment mechanisms rely on environmental variables to configure authentication information. This is useful because it does not require keeping these in files that may be seen by outside parties.</p><p>More generally they are used for when you will need to read or alter the environment of your system.</p><h2 id="viewing-shell-and-environmental-variables">Viewing shell and environmental variables</h2><p>To view the settings of your current environment you can execute the <code>env</code> command which returns a list of the key-value pairs introduced above. Here are some of the more intelligible variables that are returned when I run this command:</p><pre><code class="bash language-bash">SHELL=/usr/bin/zsh
DESKTOP_SESSION=plasma
HOME=/home/thomas
USER=thomas
PWD=/home/thomas/repos/bash-scripting
PATH=/home/thomas/.nvm/versions/node/v16.8.0/bin:/home/thomas/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl:/var/lib/snapd/snap/bin</code></pre><p>However if you want to target a specific viable you need to invoke <code>printenv</code> with the relevant key, for example:</p><pre><code class="bash language-bash">printenv SHELL
# SHELL=/usr/bin/zsh</code></pre><p>Note that <code>env</code> and <code>printenv</code> do not show all the shell variables, only a selection. To view all the shell variables along with the environmental variables use <code>set</code> .</p><h2 id="creating-exporting-and-deleting-variable-shell-and-environment-variables">Creating, exporting and deleting variable shell and environment variables</h2><ul><li><p>You set shell variables using the same syntax you would within a script file:</p><pre><code class="bash language-bash">TEST_SHELL_VAR=&quot;This is a test&quot;
set | grep TEST_SH
TEST_SHELL_VAR=&#39;This is a test&#39;

# We can also print it with an echo, again exactly as we would with a shell script
echo S{TEST_SHELL_VAR}</code></pre></li><li><p>We can verify that it is not an environmental variable based on the fact that following does not return anything:</p><pre><code class="bash language-bash">printenv | grep TEST-SH</code></pre></li><li><p>We can verify that this is a shell variable by spawning a new shell and calling it. Nothing will be returned from the child shell.</p></li><li><p>You can upgrade a shell variable to an environment variable with <code>export</code> :</p><pre><code class="bash language-bash">export TEST_SHELL_VAR
# And confirm:
printenv | grep TEST_SH
TEST_SHELL_VAR=&#39;This is a test&#39;</code></pre></li><li><p>We can use the same syntax to create new environment variables from scratch:</p><pre><code class="bash language-bash">export NEW_ENV_VAR=&quot;A new var&quot;</code></pre></li></ul><h3 id="using-config-files-to-create-variables">Using config files to create variables</h3><p>You can also add variables to config files that run on login such as your user <code>.bashrc</code> / <code>.zshrc</code> . This is obviously best for when you want the variables to persist and be accessible within every <span class="zettel-link-container errors"><span class="zettel-link" title="Wiki-link does not refer to any existing zettel"><a>Shell-sessions-e6dd743dec1d4fe3b1ee672c8f9731f6</a></span></span>.</p><h2 id="important-environmental-and-shell-variables">Important environmental and shell variables</h2><h3 id="path"><code>PATH</code></h3><p>A list of directories that the system will check when looking for commands. When a user types in a command, the system will check directories in this order for the executable.</p><pre><code class="bash language-bash">echo ${PATH}
# /home/thomas/.nvm/versions/node/v16.8.0/bin:/home/thomas/.local/bin:/usr/local/sbin:/usr/local/bin:
# /usr/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl:/var/lib/snapd/snap/bin</code></pre><p>For example, if you wish to use <code>npm</code> commands globally (in any directory) you will need to have the requisite Node executable in your path, which you can see above.</p><h3 id="shell"><code>SHELL</code></h3><p>This describes the shell that will be interpreting any commands you type in. In most cases, this will be bash by default, but other values can be set if you prefer other options.</p><pre><code class="bash language-bash">echo ${SHELL}
# /usr/bin/zsh</code></pre><h3 id="user"><code>USER</code></h3><p>The current logged in user.</p><pre><code class="bash language-bash">echo ${USER}
# thomas</code></pre><h3 id="pwd"><code>PWD</code></h3><p>The current working directory.</p><pre><code class="bash language-bash">echo ${PWD}
# /home/thomas</code></pre></div></article><nav class="ui attached segment deemphasized backlinksPane" id="neuron-backlinks-pane"><h3 class="ui header">Backlinks</h3><ul class="backlinks"><li><span class="zettel-link-container cf"><span class="zettel-link"><a href="The_PATH">The $PATH</a></span></span><ul class="context-list" style="zoom: 85%;"><li class="item"><div class="pandoc"><p>We know that <code>$PATH</code> is an <span class="zettel-link-container cf"><span class="zettel-link" title="Zettel: Environmental and shell variables"><a href="Environmental_and_shell_variables">environment variable</a></span></span>. This variable keeps track of directories <strong>where executables are found</strong>.</p></div></li></ul></li><li><span class="zettel-link-container cf"><span class="zettel-link"><a href="Managing_environments_in_NodeJS">Managing environments</a></span></span><ul class="context-list" style="zoom: 85%;"><li class="item"><div class="pandoc"><p><code>NODE_ENV</code> is a bash <span class="zettel-link-container cf"><span class="zettel-link" title="Zettel: Environmental and shell variables"><a href="Environmental_and_shell_variables">environment variable</a></span></span> like any other. So we can set it in the normal way:</p></div></li><li class="item"><div class="pandoc"><p>We can do so securely by utilising <span class="zettel-link-container cf"><span class="zettel-link" title="Zettel: Environmental and shell variables"><a href="Environmental_and_shell_variables">environmental variables</a></span></span> alongside the config pacakage.</p></div></li></ul></li></ul></nav><nav class="ui attached segment deemphasized bottomPane" id="neuron-tags-pane"><div><span class="ui basic label zettel-tag" title="Tag">shell</span></div></nav><nav class="ui bottom attached icon compact inverted menu blue" id="neuron-nav-bar"><!--replace-start-9--><!--replace-end-9--><a class="right item" href="impulse" title="Open Impulse"><i class="wave square icon"></i></a></nav></div></div><!--replace-end-6--><!--replace-end-3--><!--replace-end-2--><div class="ui center aligned container footer-version"><div class="ui tiny image"><a href="https://neuron.zettel.page"><img alt="logo" src="https://raw.githubusercontent.com/srid/neuron/master/assets/neuron.svg" title="Generated by Neuron 1.9.35.3" /></a></div></div></div></body></html>